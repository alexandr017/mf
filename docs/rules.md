# Правила игры

## Общая информация о проекте

Проект представляет собой футбольную лигу городов, где участвуют 60-80 команд из разных стран и городов. Система построена на индивидуальном рейтинге игроков, который определяет их участие в матчах команд и влияет на общий успех команды.

---

## 1. Регистрация и присоединение к команде

### 1.1. Регистрация пользователя

- Любой пользователь может зарегистрироваться в системе в любой момент
- При регистрации пользователь может указать свои данные: имя, никнейм, email, предпочитаемую позицию (защитник, полузащитник, нападающий)
- При регистрации можно использовать реферальную ссылку для получения бонусов

### 1.2. Присоединение к существующей команде

- После регистрации пользователь может присоединиться к любой из существующих команд
- Команды имеют лимит в **100 активных игроков** на текущий сезон
- Присоединение к команде происходит на текущий сезон (календарный год)
- **Трансферное окно**: Обычные пользователи могут сменить команду только с 1 июня по 31 августа (1 раз за окно)
- **Премиум аккаунт**: Позволяет менять команду неограниченное количество раз и вне трансферного окна
- **Новые пользователи**: Если пользователь зарегистрировался в середине сезона и у него нет команды, он может присоединиться к доступной команде бесплатно, даже вне трансферного окна
- **Минимальный состав**: Если у команды менее 15 игроков, покинуть команду невозможно

### 1.3. Создание новой команды

- Любой зарегистрированный пользователь может создать запрос на создание команды
- Для создания команды необходимо выполнить следующие требования:
  - **Минимальный взнос** - команда должна внести определенную сумму для участия в турнирах
  - **Минимальное количество игроков** - команда должна набрать минимальное количество участников
  - **Соблюдение внутренних правил** - команда должна соответствовать всем правилам и требованиям системы
- После выполнения всех требований команда становится активной и может участвовать в турнирах

---

## 2. Система рейтинга и мини-игры

### 2.1. Индивидуальный рейтинг

- Каждый игрок имеет индивидуальный рейтинг, который определяет его место в команде
- Рейтинг повышается путем участия в мини-играх и правильных прогнозах
- Доступные мини-игры:

#### Тренировка пробития пенальти
- Игрок выбирает угол (левый, центр, правый)
- Система случайно выбирает, куда падает вратарь
- Если выбор не совпал - гол, начисляется **+0.001** к рейтингу
- Игра длится минимум 5 секунд (анимация)

#### Прогноз матчей
- Пользователь угадывает исходы реальных матчей на ближайшие 7 дней
- Варианты: победа команды 1, ничья, победа команды 2
- Можно сделать прогноз только 1 раз на матч
- За правильный прогноз начисляется **+0.001** к рейтингу
- Прогнозы закрываются за 1 час до начала матча

#### Чеканка (Keepie Uppie)
- Мяч падает сверху, игрок кликает по нему, чтобы подбросить вверх
- С каждым разом мяч ускоряется и отклоняется в стороны
- За каждый набитый мяч начисляется **+0.0001** к рейтингу
- Прокачивает навык «Полузащита»
- Результаты отображаются в таблице лидеров

- Чем чаще игрок участвует в мини-играх, тем выше его рейтинг

### 2.2. ТОП игроки команды

- Перед каждым матчем команда заявляет ТОП игроков
- ТОП игроки определяются на основе индивидуального рейтинга
- Только ТОП игроки могут участвовать в матчах команды
- Количество ТОП игроков зависит от формата матча и правил турнира

---

## 3. Матчи команд и турниры

### 3.1. Расписание матчей

- Каждая команда играет матчи согласно расписанию, установленному для сезона
- Расписание формируется автоматически на основе структуры турнира
- Матчи могут быть:
  - **Турнирными** (национальные и международные турниры)
  - **Товарищескими** (2 матча в день, участвуют топ 40 команд в случайном порядке)
- Товарищеские матчи обрабатываются автоматически через cron-задачу
- В товарищеских матчах фиксируются голы, ассисты (с минутами) и состав игроков

### 3.2. Процесс матча

- Результат матча определяется специальным алгоритмом
- Игроки из ТОП состава команды забивают голы и делают голевые передачи
- Голы и голевые передачи засчитываются на счет конкретных игроков
- Статистика игроков обновляется после каждого матча

### 3.3. Система начисления очков

#### Внутренние турниры (национальные):
- **Победа**: 3 очка в общий рейтинг клуба
- **Ничья**: 1 очко в общий рейтинг клуба
- **Поражение**: 0 очков

#### Международные турниры:
- **Победа**: 5 очков в общий рейтинг клуба
- **Ничья**: 2 очка в общий рейтинг клуба
- **Поражение**: 0 очков

### 3.4. Общий рейтинг клубов

- Общий рейтинг клубов формируется на основе очков, начисленных за последние 10 лет
- Очки суммируются за все турниры (внутренние и международные)
- Рейтинг обновляется после каждого матча

---

## 4. Сезоны и смена команды

### 4.1. Структура сезона

- Сезон имеет определенную продолжительность (обычно один календарный год)
- В течение сезона команды играют матчи согласно расписанию
- По итогам сезона определяются чемпионы турниров

### 4.2. Смена команды и трансферное окно

- **Текущий сезон** определяется как текущий календарный год (например, 2026)
- **Трансферное окно**: с 1 июня по 31 августа
- Обычные пользователи могут сменить команду **1 раз** за трансферное окно
- Премиум аккаунт позволяет менять команду неограниченное количество раз и вне трансферного окна
- Новые пользователи без команды могут присоединиться бесплатно в любое время
- Если у команды менее 15 игроков, покинуть команду невозможно

---

## 5. Реферальная система

### 5.1. Приглашение друзей

- Каждый пользователь имеет уникальную реферальную ссылку
- Пользователь может делиться своей реферальной ссылкой через социальные сети:
  - ВКонтакте
  - Telegram
  - WhatsApp
  - Одноклассники
  - Mail.ru
  - Messenger
  - VK Messenger
  - X (Twitter)
  - Facebook

### 5.2. Начисление бонусов

- За каждого приглашенного друга пользователь получает бонусы
- Бонусы могут использоваться для различных целей в системе
- Количество приглашенных друзей отображается в личном кабинете

---

## 6. Награды и достижения

### 6.1. Чемпионство команды

- По итогам сезона команда, набравшая наибольшее количество очков, становится чемпионом турнира
- Игроки, входящие в состав чемпионской команды, также получают статус чемпионов
- Чемпионы получают специальные награды и привилегии

### 6.2. Индивидуальные достижения

#### Лучший бомбардир:
- Игрок, забивший наибольшее количество голов в турнире или за сезон
- Статистика ведется отдельно для каждого турнира и общего сезона

#### Автор наибольшего количества голевых передач:
- Игрок, сделавший наибольшее количество голевых передач в турнире или за сезон
- Статистика ведется отдельно для каждого турнира и общего сезона

### 6.3. Рейтинги и статистика

- В системе ведется подробная статистика по каждому игроку:
  - Количество матчей
  - Количество голов
  - Количество голевых передач
  - Индивидуальный рейтинг
  - Текущая команда
  - История команд

---

## 7. Структура турниров

### 7.1. Типы турниров

#### Международные турниры:
- Турниры между странами
- Пример: Кубок СНГ
- Всего: 1 международный турнир

#### Национальные турниры:
- Турниры внутри стран
- Всего: 4 страны (Россия, Беларусь, Казахстан, Армения)
- Всего: 13 турниров стран (4+3+3+3)

### 7.2. Двухдивизионные страны

- Некоторые страны имеют несколько дивизионов
- Пример: Россия имеет два дивизиона (Первый дивизион и Второй дивизион)
- Всего: 1 страна с двумя дивизионами (Россия)

### 7.3. Типы соревнований

- **Чемпионат (лига)**: Круговой турнир, где все команды играют друг с другом
- **Кубок**: Турнир на выбывание (playoff)
- **Суперкубок**: Матч между чемпионом и обладателем кубка
- **Смешанный**: Комбинация различных форматов

---

## 8. Лимиты и ограничения

### 8.1. Лимит игроков в команде

- Максимальное количество активных игроков в команде: **100 пользователей** (на текущий сезон)
- Минимальное количество игроков в команде: **15 игроков**
- При достижении лимита команда не может принимать новых игроков
- Игроки могут покидать команду, освобождая места для новых участников
- Если в команде менее 15 игроков, покинуть команду невозможно

### 8.2. Требования для участия в матчах

- Игрок должен быть в ТОП списке команды (определяется рейтингом)
- Игрок должен быть зарегистрирован в системе
- Игрок должен быть привязан к команде на текущий сезон

---

## 9. Технические детали

### 9.1. Алгоритм матча

- Результат матча определяется специальным алгоритмом
- Алгоритм учитывает:
  - Рейтинги игроков обеих команд
  - Статистику команд
  - Домашнее/гостевое преимущество
  - Другие факторы

### 9.2. Начисление статистики

- Голы засчитываются игроку, который их забил
- Голевые передачи засчитываются игроку, который их сделал
- Статистика обновляется в реальном времени после каждого матча

---

## 10. Правила поведения

### 10.1. Честная игра

- Все пользователи должны играть честно
- Запрещены читы, использование уязвимостей или любое неспортивное поведение
- Нарушение правил может привести к блокировке аккаунта

### 10.2. Соблюдение правил

- Пользователи должны соблюдать все правила системы
- Команды должны выполнять все требования для участия в турнирах
- Нарушение правил может привести к дисквалификации команды

---

## Заключение

Эти правила описывают основные принципы работы системы. Система постоянно развивается, и правила могут дополняться и уточняться. Все изменения будут доводиться до сведения пользователей через официальные каналы связи.

Удачной игры и пусть победит сильнейший!

